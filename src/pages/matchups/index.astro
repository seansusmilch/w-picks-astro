---
import Layout from '@/layouts/Layout.astro';
import MatchupsList from '@/components/Matchup/MatchupsList.astro';

const page = parseInt(Astro.url.searchParams.get('page') || '1');
const { pb } = Astro.locals;

const matchups = await pb
  .collection('matchups')
  .getList(page, 10, { sort: '+time_utc' });
---

<Layout title='Matchups'>
  <MatchupsList
    matchups={matchups.items}
    page={matchups.page}
    totalPages={matchups.totalPages}
  />
</Layout>
